{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst storageKey = 'feedback-form-state';\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('[name=\"email\"]'),\n    textarea: document.querySelector('[name=\"message\"]'),\n};\n\nfunction inputHandler() {\n    const email = refs.input.value;\n    const message = refs.textarea.value;\n    \n    return {\n        email,\n        message\n    }\n}\n\nrefs.form.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const takesValue = JSON.parse(localStorage.getItem(storageKey)) || {};\n\n    if (takesValue.email && takesValue.message) {\n        console.log({\n            email: takesValue.email,\n            message: takesValue.message,\n\n        });\n        \n        localStorage.removeItem(storageKey);\n        refs.form.reset();\n    }\n\n})\n\nrefs.form.addEventListener('input', (event) => {\n    const data = inputHandler(event.currentTarget);\n    const jsonData = JSON.stringify(data);\n    localStorage.setItem(storageKey, jsonData);\n})\n\nconst takesItem = localStorage.getItem(storageKey);\n\nif (takesItem ) {\n    const data = JSON.parse(takesItem);\n    refs.input.value = data.email;\n    refs.textarea.value = data.message;\n}"],"names":["storageKey","refs","inputHandler","email","message","event","takesValue","data","jsonData","takesItem"],"mappings":"oCAEA,MAAMA,EAAa,sBAEbC,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,gBAAgB,EAC9C,SAAU,SAAS,cAAc,kBAAkB,CACvD,EAEA,SAASC,GAAe,CACpB,MAAMC,EAAQF,EAAK,MAAM,MACnBG,EAAUH,EAAK,SAAS,MAE9B,MAAO,CACH,MAAAE,EACA,QAAAC,CACH,CACL,CAEAH,EAAK,KAAK,iBAAiB,SAAWI,GAAU,CAC5CA,EAAM,eAAc,EACpB,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQN,CAAU,CAAC,GAAK,GAE/DM,EAAW,OAASA,EAAW,UAC/B,QAAQ,IAAI,CACR,MAAOA,EAAW,MAClB,QAASA,EAAW,OAEhC,CAAS,EAED,aAAa,WAAWN,CAAU,EAClCC,EAAK,KAAK,QAGlB,CAAC,EAEDA,EAAK,KAAK,iBAAiB,QAAUI,GAAU,CAC3C,MAAME,EAAOL,EAAaG,EAAM,aAAa,EACvCG,EAAW,KAAK,UAAUD,CAAI,EACpC,aAAa,QAAQP,EAAYQ,CAAQ,CAC7C,CAAC,EAED,MAAMC,EAAY,aAAa,QAAQT,CAAU,EAEjD,GAAIS,EAAY,CACZ,MAAMF,EAAO,KAAK,MAAME,CAAS,EACjCR,EAAK,MAAM,MAAQM,EAAK,MACxBN,EAAK,SAAS,MAAQM,EAAK,OAC/B"}